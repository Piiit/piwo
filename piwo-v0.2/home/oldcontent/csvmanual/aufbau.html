<div class="section_border">
Sie sind hier: <a href='?mode=cleared&id=index'>Home</a> &raquo; <a href='?mode=cleared&id=oldcontent'>Oldcontent</a> &raquo; <a href='?mode=cleared&id=oldcontent:csvmanual'>Csvmanual</a> &raquo; Aufbau<span class="less_significant"> | <a href="?id=dokumentation:todos">Todos anzeigen</a></span></div><h1 id="header_1">Aufbau der CSV-Tabellen</h1>

Eine CSV-Datei besteht aus drei Teilen:    <ul>
      </ul><ul><li>
Konfigurationskopf <i>(Header)</i>: Die Kopfzeile beinhaltet Kommentare, spezielle <a href="#header_1.1.1">Konfigurationen</a> und Angaben f&uuml;r Labels von Variablen der <a href="#header_1.1">Datenstruktur</a>.      </li>
      <li>
Strukturzeile <i>(Struct)</i>: Aufbau der Datenbank (CSV-Datei-Struktur)... Datentypen, Konfigurationen, Spaltennamen, etc.      </li>
      <li>
Inhalt <i>(Content)</i>: Inhalt per CSV (Comma separated Values)      </li>
    </ul>

 
Dabei gibt es drei Arten von Zeilentypen:    <ul>
      </ul><ul><li>
Kommentare beginnen mit einem # und k&ouml;nnen auch am Zeilenende einer Konfigurationszeile stehen (im Contentbereich sind sie nicht erlaubt)      </li>
      <li>
Konfigurationszeilen beginnen mit !! und haben zwei verschiedene Arten:      </li>
      <ul><li>
Form 1: <span class="code">!! Schl&uuml;ssel = Wert</span> f&uuml;r einfache Einstellungen oder ...      </li>
      <li>
Form 2: <span class="code">!! Strukturzeile</span> (<a href="#header_1.2.3">siehe Kapitel -&gt; Strukturzeile</a>)      </li>
<h2 id="header_1.1">Konfigurationskopf (Header)</h2>    </ul></ul>
<pre><div># HEADER #
# Kommentar: Test f&uuml;r pw_csv                   # Alle Kommentare beginnen mit einem &quot;#&quot;
!! title       = %count Geburtstage            # Konfigurationseintr&auml;ge beginnen mit &quot;!!&quot; und haben folgende Form &quot;Schl&uuml;ssel = Wert&quot; (Weitere infos unter pw_config)
!! title_empty = Keine Geburtstage gespeichert # Titel falls keine Eintr&auml;ge in der CSV vorhanden sind
!! title_conf  = Geburtstage merken            # Titel f&uuml;r das Konfigurationsmen&uuml;
<h3 id="header_1.1.1">Konfigurationen</h3></div></pre><div class="tablediv"><table><tr><td> <div align="center"><span class="code">title</span> </div></td><td> Titel der Tabelle, falls Werte vorhanden sind </td></tr><tr><td> <div align="center"><span class="code">title_empty</span> </div></td><td> Titel der Tabelle, falls der &quot;Content&quot; leer ist </td></tr><tr><td> <div align="center"><span class="code">title_conf</span> </div></td><td> Titel im Adminbereich der Datenbank </td></tr><h3 id="header_1.1.2">Labels einzelnen Spalten zuweisen</h3></table></div><pre><div>!! datum       = Geburtstag                    # label f&uuml;r die Datenspalte &quot;datum&quot;
<h3 id="header_1.1.3">Variablen innerhalb der Konfigurationstexte</h3></div></pre><div class="tablediv"><table><tr><td> <div align="center"><span class="code">%count</span> </div></td><td> Anzahl der Datens&auml;tze </td></tr><tr><td> <div align="center"><span class="code">%</span> </div></td><td> ... </td></tr><h2 id="header_1.2.3">Strukturzeile (Struct)</h2></table></div><pre><div># STRUCT #
# Nun folgt die Strukturzeile (sie muss in einer Zeile stehen und darf nur einmal vorkommen --&gt; nur die erste Strukturzeile wird geparst, alle anderen ignoriert)
!! &amp;id:int(0,), AUTO_INC|test:int(12,10000)|tage:list(montag, dienstag, mittwoch, donnerstag)|name:csv(test2, name, geschl), NULL |datum:date() | email:text.email(100), NULL
</div></pre>

<h3 id="header_1.2.4">Schl&uuml;sselw&ouml;rter</h3><div class="tablediv"><table><tr><td> <div align="center"><span class="code">&amp;</span>        </div></td><td> bedeutet PRIMARY KEY und ist somit automatisch <span class="code">UNIQUE</span> </td></tr><tr><td> <div align="center"><span class="code">AUTO_INC</span> </div></td><td> Werte werden mit jedem neuen Eintrag automatisch inkrementiert </td></tr><tr><td> <div align="center"><span class="code">UNIQUE</span>   </div></td><td> Inhalt darf nur einmal vorkommen (Default = <span class="code">NOT UNIQUE</span>) </td></tr><tr><td> <div align="center"><span class="code">NULL</span>     </div></td><td> bedeutet das Feld darf leer sein (Default = <span class="code">NOT NULL</span>) </td></tr></table></div>

 <h3 id="header_1.2.5">Datentypen</h3><pre><div>schl&uuml;ssel:datentyp(datentypconfig), optionen
</div></pre>
oder<pre><div>schl&uuml;ssel:datentyp.untertyp(datentypconfig), optionen
</div></pre>    <ul>
      </ul><ul><li>
Datentypen:      </li>
      <ol><li>
:ok: <span class="code">text ( l&auml;nge, default )</span>      </li>
      <li>
:ok: <span class="code">date ( format, von, bis, default )</span> -&gt; :w:Checks und errorhandling fehlt      </li>
      <li>
:ok: <span class="code">time ( von, bis, default )</span> -&gt; :w:Checks und errorhandling fehlt      </li>
      <li>
:ok: <span class="code">datetime (von, bis, default )</span> -&gt; :w:Checks und errorhandling fehlt      </li>
      <li>
:ok: <span class="code">int  ( von, bis, default )</span>      </li>
      <li>
:ok: <span class="code">float( von, bis, kommazahlen, default )</span>      </li>
      <li>
:ok: <span class="code">list ( element1, element2, ... )</span>      </li>
      <li>
<span class="code">csv  ( csvname, item1, item2, ... )</span> <small>(es wird immer der &quot;primary key&quot; gespeichert)</small>      </li></ol>
      </ul><ul><li>
Untertypen: <small>noch nicht implementiert</small>      </li>
      <ol><li>
<span class="code">text.email</span>      </li>
      <li>
<span class="code">text.url</span>      </li>
      <li>
<span class="code">...</span>      </li>
    </ol></ul>

 
<span class="big">Datentyp: DATE</span>

:i: Das Datum innerhalb der CSV hat immer folgende Form: <span class="code">JJJJ-MM-TT hh:mm:ss</span><pre><div>date(format, von, bis, default)
</div></pre>
Parameterliste:    <ul>
      </ul><ul><li>
<b><span class="code">format</span></b>: Ausgabeformat. <small>noch nicht implementiert</small>      </li>
      <li>
<b><span class="code">von</span></b>, <b><span class="code">bis</span></b>: Zeitraum      </li>
      <li>
<b><span class="code">default</span></b>: Entweder ein bestimmter Zeitpunkt im CSV-eigenen Datumsformat oder <br /> <span class="code">NOW</span> als Konstante  <small>(weitere Konstante werden noch implementiert)</small>      </li>
    </ul>


<h2 id="header_1.3.5">Inhalt (Content)</h2><pre><div># CONTENT #
# ...ab hier werden dann zeilenweise alle CSV - Eintr&auml;ge gespeichert
0|14|1|2|1231772169|piiit@xy.de
1|...
<br /></div></pre><div align="right"><span class="less_significant">Verarbeitet in 0,1059 Sek. | Dateiformat: UNIX</span></div>